<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition xmlns:c="http://java.sun.com/jsp/jstl/core">
        <p:dialog id="popUpBarSummary"
          widgetVar="barDialog"
          modal="true"
          resizable="false"
          draggable="true"
          onShow="setTimeout(() => {fixAllDialogsAriaHidden();}, 300)"
          onHide="fixAllDialogsAriaHidden();"
          positionType="absolute"
          header="#{(tblRawDataController.vPartnerSelected eq 'ATAYLOR') ? 'Campaign' : 'InsertionOrder'}"
          position="top"
          responsive="true"
          style="min-width: 60vw; max-width: 90vw; max-height: 85vh; overflow-y: auto;"> 
            <h:form id="TblRawDataTabForm">              
                <h:panelGroup id="responsive">                    
                    <div class="surface-card shadow-2 p-3 border-round">
                        <ui:include src="/includes/Chart-tab-render.xhtml">
                            <ui:param name="canvasId" value="barChartCPIO"/>
                            <ui:param name="chartTitle" value="#{(tblRawDataController.vPartnerSelected eq 'ATAYLOR') ? 'Campaign' : 'InsertionOrder'}" />
                            <ui:param name="labelsJson" value="#{tblRawDataController.getLabelsJson((tblRawDataController.vPartnerSelected eq 'ATAYLOR') ? 'barChartCP' : 'barChartIO')}" />
                            <ui:param name="valoresJson" value="#{tblRawDataController.getValoresJson((tblRawDataController.vPartnerSelected eq 'ATAYLOR') ? 'barChartCP' : 'barChartIO')}" />
                            <ui:param name="chartType" value="bar" />
                            <ui:param name="horizontal" value="true" />                    
                        </ui:include>
                    </div>                                                         
                </h:panelGroup>
            </h:form>
        </p:dialog>             
    </ui:composition>
</html>