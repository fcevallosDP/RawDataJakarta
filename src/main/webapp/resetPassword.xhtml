<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<ui:composition>

<p:dialog id="SelMUsuEditPassDlg"
          widgetVar="SelMUsuEditPassDialog"
          modal="true"
          resizable="false"
          appendTo="@(body)"
          header="Change Password"
          styleClass="ui-fluid"
          width="450">

    <h:form id="SelMUsuEditPassForm">
        <p:growl id="growl2" life="3000" />

        <div class="field grid">
            <p:outputLabel for="fullName" styleClass="col-fixed" style="width:120px" value="Name:"/>
            <div class="col">
                <p:outputLabel id="fullName" value="#{loginBean.loggedInUser.fullName}" />
            </div>
        </div>

        <div class="field grid">
            <p:outputLabel for="userName" styleClass="col-fixed" style="width:120px" value="Username:"/>
            <div class="col">
                <p:outputLabel id="userName" value="#{loginBean.username}" />
            </div>
        </div>

        <div class="field grid">
            <p:outputLabel for="pwd1" styleClass="col-fixed" style="width:120px" value="Password" />
            <div class="col">
                <p:password id="pwd1"
                            value="#{loginBean.password}"
                            match="pwd2"
                            label="Password"
                            toggleMask="true"
                            required="true"
                            styleClass="w-full" />
            </div>
        </div>

        <div class="field grid">
            <p:outputLabel for="pwd2" styleClass="col-fixed" style="width:120px" value="Confirm Password" />
            <div class="col">
                <p:password id="pwd2"
                            value="#{loginBean.password}"
                            label="Confirm password"
                            toggleMask="true"
                            required="true"
                            styleClass="w-full" />
            </div>
        </div>

<div class="field grid">
    <div class="col-offset-4 col">
        <div style="display: flex; justify-content: flex-end; gap: 0.5rem;">
            <p:commandButton value="Update"
                             action="#{loginBean.resetPassword()}"
                             update="SelMUsuEditPassForm:growl2"
                             oncomplete="PF('SelMUsuEditPassDialog').hide()"
                             style="background:#0097A7; 
                                    font-size:0.75rem; 
                                    padding:0.4rem 1.2rem; 
                                    min-width: 90px; 
                                    border:none;"
                             styleClass="ui-button ui-widget ui-state-default ui-corner-all" />

            <p:commandButton type="button"
                             value="Cancel"
                             onclick="PF('SelMUsuEditPassDialog').hide()"
                             style="background:#607D8B; 
                                    font-size:0.75rem; 
                                    padding:0.4rem 1.2rem; 
                                    min-width: 90px; 
                                    border:none;"
                             styleClass="ui-button ui-widget ui-state-default ui-corner-all" />
        </div>
    </div>
</div>

    </h:form>
</p:dialog>


    

</ui:composition>
</html>
